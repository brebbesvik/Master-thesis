\documentclass[a4paper,12pt]{book}
\input{settings}


\begin{document}

\frontmatter
\input{titlepage}

\tableofcontents
\mainmatter

\input{introduction}
\input{background}


\chapter{Method}
\section{Design study}

\section{Focus group}
\section{Workshop}
The 22nd of February we had a workshop. The purpose of the workshop was to
\begin{itemize}
	\item Identify components in the treatment plan of asthma patients.
	\item Identify difficulty levels, and how the questions will be more detailed for every difficulty level.
	\item Make a learning map.
\end{itemize}

The antecedences for the meeting was 
\begin{itemize}
	\item Professor in computer science Yngve Lamo. Background in model driven engineering and health informatics.
	\item Assistant professor in computer science Svein Ivar Lillehaug. Background as a researcher in health informatics.
	\item Postdoctoral fellow Fazle Rabbi. Background in model driven engineering.
	\item Medical doctor and PhD student in health informatics Job Nyangena.
	\item PhD research fellow in interaction design Rosaline Barendregt. Has written a master thesis in gamification.
	\item PhD candidate in computer science and health informatics Suresh Kumar Mukhiya.
	\item Master degree student in computer science Ben-Richard Ebbesvik.	
\end{itemize}

\begin{figure}[h]
	\caption {Anticlockwise from front left: Yngve Lamo, Rosaline Barendregt, Suresh Kumar Mukhiya, Svein Ivar Lillehaug, Fazle Rabbi and Job Nyangena}
	\includegraphics[scale=0.25]{workshop220219}
\end{figure}

The meeting started with Ben-Richard informing the status of the project by doing a cognitive walk-through and a demonstration of the application. 

Yngve presented ideas for further development of the application. The important thing, was the concept of splitting up the questions in themes which relates to components in the treatment plan. Job helped identify these themes as assessment, diagnosis, management and treatment.Further we identified what type of questions we wanted to ask, and how they fits into different difficulty levels, based on the details of the questions. We ask factual questions for level 1. We use scenarios in level 2, where we apply facts and the detail level is categories. I.e. what class of medication should be administered to the patient. In level 3 we continue with scenarios, but here we ask for much more details, like the dosage of a medication or how often it should be administered.

When playing level 1 the student should get questions from all themes in level 1. When the student completes level 1, the student should no longer get questions from that theme. This is to avoid boring the user by repeating the questions the student already knows the answer of. He should only get questions from themes he struggles with. I.e. on the first run level 1, the user gets every question in assessment right, but have some mistakes with diagnosis and management. Then on the next run, he only gets questions from level 1 diagnosis and management. This continues until he has reached the passing condition on every theme in level 1. 

We further identified a dependency in the treatment plan. To be able to do a follow-up, the students first needs to know something about assessment, diagnosis and management of the patient. The follow-up is actually an evaluation of the treatment which have been given, based on the suggested diagnosis. The evaluation will tell how the patient responded to the treatment, and we need the student needs to take actions wether the patient responded or his condition became better or worse. When we have such a dependency, the student needs to complete assessment, diagnosis and management before follow-up gets unlocked. Since follow-up is only relevant in a situation where there has already been set a diagnosis and given a treatment, the follow-up is only part of level 2 and 3, where the questions are given as scenarios.

To complete a level, all passing conditions at that level in each theme have to be met. When the student qualifies for a new level, he only gets questions from the level he plays. The same concept of only getting questions from the themes at that level you haven't met the passing condition, continues for level 2 and 3. 

We planned to have a visualization of the passing condition in the application. The passing condition will be shown in a chart in the summary section after each game. The passing condition will be marked as a line over every theme for the level the student plays. The students scores for each theme at that level be shown as bars. When a bar reaches the line, a passing condition is met.




\begin{figure}[h]
	\caption {Assessment and diagnosis are components in the treatment plan. In the learning map they are themes. Under each theme there are difficulty levels. Questions for each level are written on post-it notes.}
	\includegraphics[scale=0.075]{workshop220219-2}
\end{figure}

\begin{figure}[h]
	\caption {Management and follow-up are components in the treatment plan. In the learning map they are themes. Under each theme there are difficulty levels. Questions for each level are written on post-it notes.}
	\includegraphics[scale=0.075]{workshop220219-3}
\end{figure}

\begin{figure}[h]
	\caption {What type of questions the student will get at each level.}
	\includegraphics[scale=0.075]{workshop220219-4}
\end{figure}

Job continued the meeting by talking about the guidelines.The paediatric guideline of asthma is called "possible asthma". That is because in an emergency situation asthma is the most dangerous airway condition and can be lethal. If the patient shows signs of asthma, he will be treated for asthma to reduce risks of an unwanted scenario.

We identified users of the application: 
\begin{itemize}
	\item Formal training, where last year students are reading for their exams.
	\item Anyone can learn, so it can be used to inform and educate the public.
	\item In countries such as Kenya, where there are a large deficit in doctors and nurses, sometimes nurses has to work as doctors. Or community workers need to take the role as doctor or nurse. The application will help educating nurses and community workers for such scenarios.
\end{itemize}
 
 There was also talked about how the situation in medical training is for the student. When a patient comes to the emergency room with severe asthma, the medical doctors will have all their focus on that particular patient. The medical student will typically not take part in the assessment, diagnosis or the initial treatment of the patient. The medical student will typically only take part in the monitoring, evaluation and follow-up of the patient, when the situation is less critical. The application will give the medical student an alternative way to train in assessment, diagnosis and initial treatment of a made-up patient with severe asthma. 

Job continued the workshop by going through the Kenyan paediatric guideline of possible asthma \cite{RepublicofKeny2016}. This is the guideline we will base our quiz on. Job answered questions from the group about details of the guideline. It is important to understand the general flow as well as the details to be able to make good questions for the quiz. The guidelines is poorly written in terms of wrong use of sentential operators. These mistakes needed to be clarified.

The rest of the workshop was for the participants brainstorming around the questions which will be used in the quiz. Each participant wrote questions on post-it notes, and placed them at a suiting level and theme on the blackboard. At the end, Job went through the questions and we had a small discussion around the suggested questions. We managed to produce question templates to be used in asthma quiz of the application.

\begin{figure}[h]
	\caption {Suggestions for questions were written on post-it notes and attached to a difficulty level under a theme on the black board.}
	\includegraphics[scale=0.075]{workshop220219-5}
\end{figure}




\chapter{Developing a learning tool for health workers}
\section{Extracting knowledge from the clinical  practice guidelines}
\section{Data models}
\subsection{DPF metamodeling}
\subsection{Entity model}
\subsection{Workflow model}
\subsection{Game model}
\section{Game engine}
\subsection{Reward system}
As each question in a quiz are related to a certain discipline or a certain task, the student will be measured how well he performed on each of these disciplines. For the asthma guideline, we have identified four disciplines. Assessment where the student will be tested in the initial examination. Diagnosis, where the student will determine a diagnosis as well as the severity. Management, where the student will determine which actions should be done to treat and best give the best care to the patient. The last discipline is the follow-up, where the student will be tested in evaluating the treatment, give advise to and educate patient and caregivers, provide the right medication and regular follow-up.

By splitting up the score in disciplines, the student can easily see which areas he is strong and where he needs more training. 



 We can also adapt the questions in each discipline to the students level. If the student has proven to be very good in providing the right amount of medicine to asthma patient, we can provide more difficult questions to challenge the student some more. If he struggles at setting the right diagnose, we can provide more basic questions to strengthen the students basic knowledge. 

\textcolor{red}{The disciplines should be automatically picked from the entity (and worflow?) model.}

\textcolor{red}{The tree structure of discipline scores. Diagnosis have examination, investigation, setting the severity. Management have advises, medication, admit, surgery and so on.}




The student will also be provided with a total score, which will be the average score of each of the disciplines. The student can compare the total score of e.g. the asthma quiz and the jaundice quiz, and see which medical condition he needs to train more on.

Each question will have several answer alternatives the student can choose from. Each answer alternative will have a reward or penalty related to them. The correct answer will have a great reward, while wrong answers will have a small penalty. The quiz author will have the opportunity to specify the rewards, such that he can give even smaller penalties for partly correct answers. The idea of the reward- penalty system is to increase learning. if the student answers wrong the first time, he will be given the possibility to reflect over the question once more or perhaps read the guideline to learn before he commits his second attempt. We are aware that providing a minus score for making an attempt can be very demotivating, but it is to avoid the situation where a student gets the same (or better) score for making ten attempts than only needing one attempt. A small penalty will have a very small impact when the reward per question is high, but in situations where the student performs very poorly and ends with a negative total score, it is possible to adjust this to a small positive score on presentation for the student. Not giving a too harsh feedback for trying to learn.

\textcolor{red}{A solution to having a not very strict game, encouraging to playing and learning, one can also have a very strict examination version. The idea is that after examination, the results will be sent to the lecturer (or a governing body of some kind) to evaluate what the overall knowledge of the students, as well as details of what the students are really good in and where do they struggle. The lecturer can then target the weak of points of the students in one of the next lectures. }


\subsection{Unlocking harder levels at a certain category}
\textcolor{red}{(somewhere in the paper I need to refer to Eides, Kristensens and Lamos paper, and discuss the knowledge, learning and student maps and that they need to prove basic knowledge in some disciplines before they can unlock content in other disciplines.)}
\subsection{Visualization of game statistics}
\subsection{Automatically generating new questions}
\section{The mobile application}
\begin{itemize}
	\item React
	\item React-Native
	\item React-Native-Navigation (Wix)
	\item Redux
	\item React-Redux
	\item Redux-Thunk
	\item Highcharts
	\item Jest
\end{itemize}
\subsection{React-Native and Redux}
\subsection{User interface and flow of the user interaction}
\section{Architecture of the whole system}
\subsection{Visualization}
\section{Evaluation}



\chapter{Discussion}
\section{Research questions}
\section{Limitations of the model}
\begin{itemize}
	\item Can't ask questions like "what are the symptoms for severe asthma?"
	\item Difficult to ask what NOT to do. If the vertex doesn't exist, only an empty string gets returned. Can only be used were we actually have written "don't admit to the hospital" as an example with hospitalization.
	\item The inheritance makes it difficult to generalize some questions. We can't make a template which asks about the Rate a medicine should be taken with. We need to specifically ask for that medicine. To be able to ask for a general medicine, one solution can be to introduce a new tag which compares the substring of the type of the vertex. Another solution is to use the meta model and not the instance model. We don't use inheritance on diagnosis because of this.
	\item To avoid the problem described in the previous point, we don't use inheritance on Diagnosis. A limitation here is that  
	a patient can only have one diagnosis.
\end{itemize}
\section{Observations}
\section{Challenges}
\section{Reflection}



\chapter{Conclusions}
\section{Further research and development}


\backmatter
% bibliography, glossary and index would go here.
\end{document}